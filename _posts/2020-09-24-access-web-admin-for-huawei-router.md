---
layout: post
title: "通过 Nginx 反向代理访问荣耀路由器 Web 管理页面"
date: 2020-09-24 16:18:20 +0800
categories:
---

这是[需求](https://club.huawei.com/thread-20336697-1-1.html)，像帖子里说的那样：“手机app管理功能实在有限，希望能从外网web登陆后进行直接管理”。怕有人不明白这个意思，这里在贴一个正常路由器厂家提供的[教程](https://service.tp-link.com.cn/detail_article_2032.html)。

因为华为荣耀路由器的 Web 管理页面目前没办法在公网访问，只能在内网访问。所以如果实在要从公网访问的话，就需要在内网有“人”把公网请求转发一下变成内网请求，这就是所谓的“反向代理”。

这个方案中的一个重要环节就是这个中间人，如果家里有 htpc、nas、树莓派、群晖，或者一台一直开机的电脑，那这件事就好办了。如果家里没有这些硬件设施，可以购买一台二手的玩客云，成本不到 50 元，参考[低成本在家部署一个Server](/2020/02/23/deploy-server-at-home.html)。

以我的使用场景举例，荣耀路由器的 IP 为 192.168.3.1，假设另一台内网主机电脑(下面缩写为主机)的 IP 为 192.168.3.2。配置反向代理的步骤如下：

1. 安装 Nginx。

Nginx 是用处非常广泛且非常流行的一个服务器软件，而且非常擅长于做反向代理。根据自己的主机的操作系统，安装自己操作系统版本的 Nginx 即可。需要注意的是 Nginx 默认端口是 80，但现在大部分运营商都封锁了个人宽带用户的常用端口（比如80、8080）。所以需要在 Nginx 的配置文件中修过默认的端口号，文末会给出一个配置文件示例，可以在[这里](https://nginx.org/en/download.html)下载 Nginx，但关于 Nginx 安装及使用问题请自行查找，这里不再啰嗦。

2. 配置路由器。

默认情况下，从公网是无法访问到家里局域网中的一台主机的。公网的请求可以通过路由器的公网 IP 到达路由器，如果需要转发到内网，可以通过端口转发把具体的请求转发给主机上的 Nginx。

在内网打开路由器的
